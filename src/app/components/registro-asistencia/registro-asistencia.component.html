<div class="asistencia-container">
  <h2 class="titulo-principal">Registro de Asistencia en Tiempo Real</h2>

  <!-- ComboBox para seleccionar el filtro -->
  <div class="filter-container">
    <label for="filtro" class="label-filtro">Filtrar por:</label>
    <select id="filtro" [(ngModel)]="filtroSeleccionado" (change)="cambiarFiltro(filtroSeleccionado)" class="select-filtro">
      <option value="hoy">Hoy</option>
      <option value="ayer">Ayer</option>
      <option value="semana">Esta semana</option>
      <option value="todas">Todas</option>
    </select>
  </div>

  <!-- Panel de detalles con tabla -->
  <div class="detail-panel">
    <div class="detail-header">
      <h5 class="titulo-tabla">{{ tituloTabla }}</h5>
    </div>

    <div class="detail-content">
      <table class="table custom-table">
        <thead>
          <tr>
            <th>Empleado</th>
            <th>Fecha</th>
            <th>Entrada</th>
            <th>Estado Entrada</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let asistencia of asistenciasFiltradas">
            <td>{{ asistencia.empleado.nombre }}</td>
            <td>{{ asistencia.fecha }}</td>
            <td>{{ asistencia.horaEntrada || 'No disponible' }}</td>
            <td [ngStyle]="{ 'background-color': getEstadoColor(asistencia.estadoEntrada || 'default') }">
              {{ asistencia.estadoEntrada || 'No disponible' }}
            </td>

          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Mensaje si no hay datos -->
  <ng-template #noData>
    <p class="mensaje-sin-datos">No hay registros de asistencia disponibles.</p>
  </ng-template>
</div>
